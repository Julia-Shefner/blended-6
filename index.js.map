{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://dummyjson.com';\n\nexport async function getProductCategories() {\n  try {\n    const response = await axios.get('/products/category-list');\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getProducts(currentPage = 1) {\n  try {\n    const response = await axios(\n      `/products?limit=12&skip=${(currentPage - 1) * 12}`\n    );\n    return response.data.products;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// https://dummyjson.com/products/category/smartphones\n\nexport async function getProductsByCategory(category = 'smartphones') {\n  try {\n    const response = await axios(`/products/category/${category}`);\n    return response.data.products;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// https://dummyjson.com/products/1\nexport async function getProductById(id = 1) {\n  try {\n    const response = await axios(`/products/${id}`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","export const categoriesList = document.querySelector('.categories');\nexport const productsList = document.querySelector('.products');\nexport const notFoundProducts = document.querySelector('.not-found');\nexport const modal = document.querySelector('.modal-product');\nexport const modalWindow = document.querySelector('.modal');\n","import { categoriesList, productsList, notFoundProducts, modal } from './refs';\n\nexport function renderCategoriesMarkup(arr) {\n  const markup = arr\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>`\n    )\n    .join('');\n  categoriesList.innerHTML = markup;\n}\n\nexport function renderProductMarkup(arr) {\n  if (!arr.length) {\n    notFoundProducts.classList.add('not-found--visible');\n    productsList.innerHTML = '';\n    return;\n  } else {\n    notFoundProducts.classList.remove('not-found--visible');\n  }\n  const markup = arr\n    .map(\n      el => `<li class=\"products__item\" data-id=\"${el.id}\">\n    <img class=\"products__image\" src=\"${el.images[0]}\" alt=\"${el.title}\"/>\n    <p class=\"products__title\">${el.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: </span>${el.brand}</p>\n    <p class=\"products__category\">Category: ${el.category} </p>\n    <p class=\"products__price\">Price: ${el.price} $</p>\n </li>\n`\n    )\n    .join('');\n  productsList.innerHTML = markup;\n}\n\nexport function createModalMarkup(product) {\n  const markup = `<img class=\"modal-product__img\" src=\"${product.thumbnail}\" alt=\"${product.title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${product.title}</p>\n        <ul class=\"modal-product__tags\"></ul>\n        <p class=\"modal-product__description\">${product.description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:</p>\n        <p class=\"modal-product__return-policy\">Return Policy:</p>\n        <p class=\"modal-product__price\">Price: ${product.price} $</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n`;\n  modal.innerHTML = markup;\n}\n","//Логіка сторінки Home\nimport {\n  getProductCategories,\n  getProducts,\n  getProductsByCategory,\n  getProductById,\n} from './js/products-api';\nimport {\n  renderCategoriesMarkup,\n  renderProductMarkup,\n  createModalMarkup,\n} from './js/render-function';\nimport { categoriesList, productsList, modalWindow } from './js/refs';\n\nasync function renderCategories() {\n  try {\n    const categories = await getProductCategories();\n    const allCategories = ['All', ...categories];\n    renderCategoriesMarkup(allCategories);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function renderProducts() {\n  try {\n    const products = await getProducts();\n    renderProductMarkup(products);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nrenderCategories();\nrenderProducts();\n\ncategoriesList.addEventListener('click', handlerClick);\n\nasync function handlerClick(event) {\n  const clickedBtn = event.target.closest('.categories__btn');\n  if (!clickedBtn) {\n    return;\n  }\n  const buttons = document.querySelectorAll('.categories__btn');\n  buttons.forEach(el => {\n    el.classList.remove('categories__btn--active');\n  });\n  clickedBtn.classList.add('categories__btn--active');\n  const categoryName = clickedBtn.textContent;\n  let products = [];\n  if (categoryName === 'All') {\n    products = await getProducts();\n  } else {\n    products = await getProductsByCategory(categoryName);\n  }\n  renderProductMarkup(products);\n}\nproductsList.addEventListener('click', handlerProductListClick);\n\nasync function handlerProductListClick(event) {\n  const productCard = event.target.closest('.products__item');\n  if (!productCard) {\n    return;\n  }\n  const productId = productCard.dataset.id;\n  console.log(productId);\n  const product = await getProductById(productId);\n  createModalMarkup(product);\n  modalWindow.classList.add('modal--is-open');\n}\n"],"names":["axios","getProductCategories","error","getProducts","currentPage","getProductsByCategory","category","getProductById","id","response","categoriesList","productsList","notFoundProducts","modal","modalWindow","renderCategoriesMarkup","arr","markup","el","renderProductMarkup","createModalMarkup","product","renderCategories","allCategories","renderProducts","products","handlerClick","event","clickedBtn","categoryName","handlerProductListClick","productCard","productId"],"mappings":"oFAEAA,EAAM,SAAS,QAAU,wBAElB,eAAeC,GAAuB,CAC3C,GAAI,CAEF,OADiB,MAAMD,EAAM,IAAI,yBAAyB,GAC1C,IACjB,OAAQE,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEO,eAAeC,EAAYC,EAAc,EAAG,CACjD,GAAI,CAIF,OAHiB,MAAMJ,EACrB,4BAA4BI,EAAc,GAAK,EAAE,EACvD,GACoB,KAAK,QACtB,OAAQF,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAIO,eAAeG,EAAsBC,EAAW,cAAe,CACpE,GAAI,CAEF,OADiB,MAAMN,EAAM,sBAAsBM,CAAQ,EAAE,GAC7C,KAAK,QACtB,OAAQJ,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAGO,eAAeK,EAAeC,EAAK,EAAG,CAC3C,GAAI,CACF,MAAMC,EAAW,MAAMT,EAAM,aAAaQ,CAAE,EAAE,EAC9C,eAAQ,IAAIC,EAAS,IAAI,EAClBA,EAAS,IACjB,OAAQP,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CC5CO,MAAMQ,EAAiB,SAAS,cAAc,aAAa,EACrDC,EAAe,SAAS,cAAc,WAAW,EACjDC,EAAmB,SAAS,cAAc,YAAY,EACtDC,EAAQ,SAAS,cAAc,gBAAgB,EAC/CC,EAAc,SAAS,cAAc,QAAQ,ECFnD,SAASC,EAAuBC,EAAK,CAC1C,MAAMC,EAASD,EACZ,IACCE,GAAM;AAAA,mDACuCA,CAAE;AAAA,OAEhD,EACA,KAAK,EAAE,EACVR,EAAe,UAAYO,CAC7B,CAEO,SAASE,EAAoBH,EAAK,CACvC,GAAKA,EAAI,OAKPJ,EAAiB,UAAU,OAAO,oBAAoB,MALvC,CACfA,EAAiB,UAAU,IAAI,oBAAoB,EACnDD,EAAa,UAAY,GACzB,MACJ,CAGE,MAAMM,EAASD,EACZ,IACCE,GAAM,uCAAuCA,EAAG,EAAE;AAAA,wCAChBA,EAAG,OAAO,CAAC,CAAC,UAAUA,EAAG,KAAK;AAAA,iCACrCA,EAAG,KAAK;AAAA,mFAC0CA,EAAG,KAAK;AAAA,8CAC7CA,EAAG,QAAQ;AAAA,wCACjBA,EAAG,KAAK;AAAA;AAAA,CAG3C,EACA,KAAK,EAAE,EACVP,EAAa,UAAYM,CAC3B,CAEO,SAASG,EAAkBC,EAAS,CACzC,MAAMJ,EAAS,wCAAwCI,EAAQ,SAAS,UAAUA,EAAQ,KAAK;AAAA;AAAA,0CAEvDA,EAAQ,KAAK;AAAA;AAAA,gDAEPA,EAAQ,WAAW;AAAA;AAAA;AAAA,iDAGlBA,EAAQ,KAAK;AAAA;AAAA;AAAA,EAI5DR,EAAM,UAAYI,CACpB,CCnCA,eAAeK,GAAmB,CAChC,GAAI,CAEF,MAAMC,EAAgB,CAAC,MAAO,GADX,MAAMtB,GACkB,EAC3Cc,EAAuBQ,CAAa,CACrC,OAAQrB,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEA,eAAesB,GAAiB,CAC9B,GAAI,CACF,MAAMC,EAAW,MAAMtB,IACvBgB,EAAoBM,CAAQ,CAC7B,OAAQvB,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEAoB,IACAE,IAEAd,EAAe,iBAAiB,QAASgB,CAAY,EAErD,eAAeA,EAAaC,EAAO,CACjC,MAAMC,EAAaD,EAAM,OAAO,QAAQ,kBAAkB,EAC1D,GAAI,CAACC,EACH,OAEc,SAAS,iBAAiB,kBAAkB,EACpD,QAAQV,GAAM,CACpBA,EAAG,UAAU,OAAO,yBAAyB,CACjD,CAAG,EACDU,EAAW,UAAU,IAAI,yBAAyB,EAClD,MAAMC,EAAeD,EAAW,YAChC,IAAIH,EAAW,CAAA,EACXI,IAAiB,MACnBJ,EAAW,MAAMtB,IAEjBsB,EAAW,MAAMpB,EAAsBwB,CAAY,EAErDV,EAAoBM,CAAQ,CAC9B,CACAd,EAAa,iBAAiB,QAASmB,CAAuB,EAE9D,eAAeA,EAAwBH,EAAO,CAC5C,MAAMI,EAAcJ,EAAM,OAAO,QAAQ,iBAAiB,EAC1D,GAAI,CAACI,EACH,OAEF,MAAMC,EAAYD,EAAY,QAAQ,GACtC,QAAQ,IAAIC,CAAS,EACrB,MAAMX,EAAU,MAAMd,EAAeyB,CAAS,EAC9CZ,EAAkBC,CAAO,EACzBP,EAAY,UAAU,IAAI,gBAAgB,CAC5C"}